{% load static %}
<!DOCTYPE html>

<html
  lang="en"
  class="light-style layout-menu-fixed layout-compact"
  dir="ltr"
  data-theme="theme-default"
  data-template="vertical-menu-template-free">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Devicer</title>

    <meta name="description" content="" />

    <!-- Favicon -->

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&ampdisplay=swap"
      rel="stylesheet" />

    <link rel="stylesheet" href="{% static 'admin/vendor/fonts/materialdesignicons.css' %}" />


    <!-- Core CSS -->
    <link rel="stylesheet" href="{% static 'admin/vendor/css/core.css' %}" class="template-customizer-core-css" />
    <link rel="stylesheet" href="{% static 'admin/vendor/css/theme-default.css' %}" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="{% static 'admin/css/demo.css' %}" />

    <!-- Helpers -->
    <script src="{% static 'admin/vendor/js/helpers.js' %}"></script>
    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="{% static 'admin/js/config.js' %}"></script>
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">

        {% include 'admin/menu.html' %}


        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <nav
            class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
            id="layout-navbar">
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
              <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                <i class="mdi mdi-menu mdi-24px"></i>
              </a>
            </div>

            <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
              <!-- Search -->
              <div class="navbar-nav align-items-center">
                <div class="nav-item d-flex align-items-center">
                  <i class="mdi mdi-magnify mdi-24px lh-0"></i>
                  <input
                    type="text"
                    class="form-control border-0 shadow-none bg-body"
                    placeholder="Поиск..."
                    aria-label="Поиск..." />
                </div>
              </div>
              <!-- /Search -->

              <ul class="navbar-nav flex-row align-items-center ms-auto">
                
                <!-- User -->
                <li class="nav-item navbar-dropdown dropdown-user dropdown">
                  <a
                    class="nav-link dropdown-toggle hide-arrow p-0"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown">
                    <div class="avatar avatar-online">
                      <img src="{% static 'admin/img/avatars/face.jpg' %}" alt class="w-px-40 h-auto rounded-circle" />
                    </div>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end mt-3 py-2">
                    <li>
                      <a class="dropdown-item pb-2 mb-1" href="#">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0 me-2 pe-1">
                            <div class="avatar avatar-online">
                              <img src="{% static 'admin/img/avatars/face.jpg'%}" alt class="w-px-40 h-auto rounded-circle" />
                            </div>
                          </div>
                          <div class="flex-grow-1">
                            <h6 class="mb-0">Администратор</h6>
                            <small class="text-muted">Админ</small>
                          </div>
                        </div>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider my-1"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#">
                        <i class="mdi mdi-account-outline me-1 mdi-20px"></i>
                        <span class="align-middle">Мой профиль</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#">
                        <i class="mdi mdi-cog-outline me-1 mdi-20px"></i>
                        <span class="align-middle">Настройки</span>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider my-1"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);">
                        <i class="mdi mdi-power me-1 mdi-20px"></i>
                        <span class="align-middle">Выйти</span>
                      </a>
                    </li>
                  </ul>
                </li>
                <!--/ User -->
              </ul>
            </div>
          </nav>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            
              <!-- Devices table -->
              <div class="container-xxl flex-grow-1 container-p-y">
                <div class="row gy-4">
                  {% if messages %}
                  {% for message in messages %}
                  <div class="alert alert-{{ message.tags }} alert-dismissible" role="alert">
                      {{ message }}
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                  {% endfor %}
                  {% endif %}
              
                  <!-- Hoverable Table rows -->
                  <div class="card">
                    <h5 class="card-header">Список устройств</h5>
                    <div class="table-responsive text-nowrap">
                        <table class="table table-hover">
                          <thead>
                            <tr>
                              <th>№</th>
                              <th>Модель</th>
                              <th>Логин</th>
                              <th>Комната</th>
                              <th>IP-адрес</th>
                              <th>MAC-адрес</th>
                              <th>Время</th>
                              <th>Действие</th>
                            </tr>
                          </thead>
                          <tbody class="table-border-bottom-0">
                            {% for d in query %}
                                {% include 'admin/scanlist.html' %}
                            {% endfor %}
                          </tbody>
                        </table>
                      
                      
  <!--
                      <nav aria-label="Page navigation">
                        <ul class="pagination pagination-rounded pagination-outline-primary">
                          {% if queryset.has_previous %}
                          <li class="page-item first">
                            <a class="page-link waves-effect" href="?page=1"><i class="tf-icon mdi mdi-chevron-double-left"></i></a>
                          </li>
                          <li class="page-item prev">
                            <a class="page-link waves-effect" href="?page={{ queryset.previous_page_number }}"><i class="tf-icon mdi mdi-chevron-left"></i></a>
                          </li>
                          {% endif %}
                          {% for page_num in queryset.paginator.page_range %}
                              <li class="page-item{% if queryset.number == page_num %} active{% endif %}">
                                  <a class="page-link waves-effect" href="?page={{ page_num }}">{{ page_num }}</a>
                              </li>
                          {% endfor %}
                          {% if queryset.has_next %}
                          <li class="page-item next">
                            <a class="page-link waves-effect" href="?page={{ queryset.next_page_number }}"><i class="tf-icon mdi mdi-chevron-right"></i></a>
                          </li>
                          <li class="page-item last">
                            <a class="page-link waves-effect" href="?page={{ queryset.paginator.num_pages }}"><i class="tf-icon mdi mdi-chevron-double-right"></i></a>
                          </li>
                          {% endif %}
                        </ul>
                      </nav>
  
                        <p>No data available.</p>
                    -->
                    
                    </div>
                  </div>
                  <!--/ Hoverable Table rows -->
                  <!--<div class="col-auto">
                    <a href="" class="btn btn-primary">Download Excel</a>
                  </div>-->
  
  
                </div>
                
              </div>
              <!-- / Devices table -->       

               <!-- Modal -->
               <div class="modal fade" id="modalCenter" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h4 class="modal-title" id="modalCenterTitle">Сохранить устройство</h4>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"></button>
                    </div>
                    <form action="">
                      
                      <input type="hidden" name="comp_name" value="{{ m.comp_name }}">
                      <input type="hidden" name="user_name" value="{{ m.user_name }}">
                      <input type="hidden" name="ram" value="{{ m.ram }}">
                      <input type="hidden" name="ip_address" value="{{ m.network.ethernet.ip }}">
                      <input type="hidden" name="mac_address" value="{{ m.network.ethernet.mac }}">
                      
                      <div class="modal-body">
                        <div class="row">
                          <div class="col mb-2 mt-1">
                            <div class="form-floating form-floating-outline">
                              <input
                                type="text"
                                class="form-control"
                                placeholder="Enter Name" />
                              <label for="nameWithTitle">Name</label>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col mb-2 mt-1">
                            <div class="form-floating form-floating-outline">
                              <input
                                type="text"
                                id="nameWithTitle"
                                class="form-control"
                                placeholder="Enter Name" />
                              <label for="nameWithTitle">Username</label>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col mb-2 mt-1">
                            <div class="form-floating form-floating-outline">
                              <input
                                type="text"
                                id="nameWithTitle"
                                class="form-control"
                                placeholder="Enter Name" />
                              <label for="nameWithTitle">ram</label>
                            </div>
                          </div>
                        </div>
                      </div>

                    </form>
                    
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        Закрыть
                      </button>
                      <button type="button" class="btn btn-primary">Сохранить</button>
                    </div>
                  </div>
                </div>
              </div>
              <!--Modal closed-->



            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
    </div>
   
    
  
    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script src="{% static 'admin/vendor/libs/jquery/jquery.js'%}"></script>
    <script src="{% static 'admin/vendor/js/bootstrap.js'%}"></script>

    <!-- endbuild -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Vendors JS -->
    <script src="{% static 'admin/vendor/libs/apex-charts/apexcharts.js'%}"></script>

    <!-- Main JS -->
    <script src="{% static 'admin/vendor/js/menu.js'%}"></script>
    

    <script src="{% static 'admin/vendor/libs/popper/popper.js' %}"></script>
    <!-- Page JS -->
    <script src="{% static 'admin/js/dashboards-analytics.js'%}"></script>
  </body>
</html>
